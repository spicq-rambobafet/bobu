---
import { COPYRIGHT, SOCIAL_LINKS } from "../consts";
import icons, { getSizedIcon } from "../assets/icons";

---

<footer>
    <div class="footer__links">
    <a href="/sitemap" class="footer__sitemap" aria-current={Astro.url.pathname === "/sitemap" && 'page'}>plan du site</a>
    <div class="social-links" role="navigation" aria-label="Liens sociaux">
    {
      Object.entries(SOCIAL_LINKS).map(([key, value]) => {
        if (!value) {
          return null;
        }
        return (
          <a
            href={value}
            rel="noopener noreferrer"
            target="_blank"
            aria-label={`Lien vers ${key}`}
            title={`Lien vers ${key}`}
          >
            <Fragment
              set:html={getSizedIcon(key as keyof typeof icons, 16.5)}
            />
          </a>
        );
      })
    }
  </div>
    </div>

    <small>
        Propulsé par un fork de <a href="https://github.com/ChurchTao/PlainPage" target="_blank" rel="noopener noreferrer"
    >PlainPage(素纸)</a
    >
    </small>
    <br />
    <small
    >{COPYRIGHT && `${COPYRIGHT}`}
    </small>
</footer>

<style>
  .social-links {
    margin-top: 6px;
    a {
      color: var(--text-color);
      text-decoration: none;
    }
    a:hover {
      color: var(--link-color);
    }
  }
</style>
